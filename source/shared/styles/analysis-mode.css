/**
 * @file analysis-mode.css
 * @description Consolidated Analysis Mode Design System
 *
 * Merged from:
 * - analysis-mode-tokens.css
 * - analysis-mode-global.css
 * - analysis-mode-components.css
 */

/* ==========================================================================
   1. TOKENS
   ========================================================================== */
:root {
	/* * Accent color - singular, confident choice */
	--analysis-accent: var(--color-neon-cyan);
	--analysis-accent-rgb: 47, 243, 224;
	--analysis-accent-muted: color-mix(in srgb, var(--analysis-accent) 15%, transparent);
	--analysis-accent-subtle: color-mix(in srgb, var(--analysis-accent) 8%, transparent);
	--analysis-accent-glow: 0 0 24px color-mix(in srgb, var(--analysis-accent) 25%, transparent);

	/* * Surface hierarchy - layered depth (references main design tokens) */
	--analysis-surface-0: var(--background-color);
	--analysis-surface-1: var(--card-background);
	--analysis-surface-2: var(--surface-elevated, var(--surface-color));
	--analysis-surface-elevated: color-mix(in srgb, var(--color-neutral-50) 3%, transparent);

	/* * Border system - subtle definition */
	--analysis-border: color-mix(in srgb, var(--color-neutral-50) 8%, transparent);
	--analysis-border-accent: color-mix(in srgb, var(--analysis-accent) 30%, transparent);
	--analysis-border-hover: color-mix(in srgb, var(--analysis-accent) 50%, transparent);

	/* * Typography - restrained scale (references main design tokens) */
	--analysis-text-headline: var(--text-2xl);
	--analysis-text-title: var(--text-lg);
	--analysis-text-body: var(--text-sm);
	--analysis-text-caption: var(--text-xs);
	--analysis-text-mono: var(--font-mono);

	/* * Spacing - tight, rhythmic (references main design tokens) */
	--analysis-gap-xs: var(--space-1);
	--analysis-gap-sm: var(--space-2);
	--analysis-gap-md: var(--space-3);
	--analysis-gap-lg: var(--space-4);
	--analysis-gap-xl: var(--space-6);

	/* * Motion - purposeful, quick (references main design tokens) */
	--analysis-ease: cubic-bezier(0.22, 1, 0.36, 1);
	--analysis-duration-fast: var(--duration-fast);
	--analysis-duration-normal: var(--duration-normal);
	--analysis-duration-slow: var(--duration-slow);

	/* * Shadows - depth without heaviness (references main design tokens) */
	--analysis-shadow-sm: var(--shadow-sm);
	--analysis-shadow-md: var(--shadow-md);
	--analysis-shadow-lg: var(--shadow-xl), 0 0 0 1px var(--analysis-border);
	--analysis-shadow-glow: var(--shadow-cyan), 0 0 0 1px var(--analysis-border-accent);

	/* * Border radius (references main design tokens) */
	--analysis-radius-sm: var(--radius-sm);
	--analysis-radius-md: var(--radius-md);
	--analysis-radius-lg: var(--radius-lg);
	--analysis-radius-xl: var(--radius-xl);
	--analysis-radius-full: var(--radius-full);
}

/* * Light theme adjustments */
:root[data-theme="light"] {
	--analysis-accent: #0891b2;
	--analysis-accent-rgb: 8, 145, 178;
	--analysis-accent-muted: color-mix(in srgb, var(--analysis-accent) 12%, transparent);
	--analysis-accent-subtle: color-mix(in srgb, var(--analysis-accent) 6%, transparent);
	--analysis-accent-glow: 0 0 24px color-mix(in srgb, var(--analysis-accent) 15%, transparent);
	--analysis-surface-elevated: color-mix(in srgb, var(--color-neutral-900) 2%, transparent);
	--analysis-border: color-mix(in srgb, var(--color-neutral-900) 8%, transparent);
	--analysis-border-accent: color-mix(in srgb, var(--analysis-accent) 25%, transparent);
	--analysis-border-hover: color-mix(in srgb, var(--analysis-accent) 40%, transparent);
}

/* ==========================================================================
   2. GLOBAL EFFECTS
   ========================================================================== */
/* * Subtle grid background when analysis mode is active */
body:has(.analysis-mode-banner) {
	background-image:
		linear-gradient(
			to right,
			var(--analysis-border) var(--card-border-width),
			transparent var(--card-border-width)
		),
		linear-gradient(
			to bottom,
			var(--analysis-border) var(--card-border-width),
			transparent var(--card-border-width)
		);
	background-size: var(--space-10) var(--space-10);
	background-attachment: fixed;
	/* * Smooth background transition */
	transition: background-image var(--analysis-duration-normal) var(--analysis-ease);
}

body:has(.analysis-mode-banner)::after {
	content: "";
	position: fixed;
	inset: 0;
	background: radial-gradient(
		circle at 50% 0%,
		color-mix(in srgb, var(--analysis-accent) 5%, transparent),
		transparent 70%
	);
	pointer-events: none;
	z-index: var(--z-negative);
	/* * Smooth fade-in */
	animation: analysis-bg-fade-in var(--analysis-duration-normal) var(--analysis-ease);
}

@keyframes analysis-bg-fade-in {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

/* ==========================================================================
   3. COMPONENTS
   ========================================================================== */
/* ANALYSIS PANEL - Primary Container */
.analysis-panel {
	position: relative;
	display: flex;
	flex-direction: column;
	gap: 0;
	padding: 0;
	margin: 0;
	background: var(--analysis-surface-1);
	border: var(--card-border-width) solid var(--analysis-border-accent);
	border-radius: var(--analysis-radius-xl);
	box-shadow:
		0 8px 32px color-mix(in srgb, var(--analysis-accent-rgb, 47 243 224) 5%, transparent),
		0 2px 8px var(--overlay-light);
	backdrop-filter: blur(16px);
	transition:
		border-color var(--analysis-duration-normal) var(--analysis-ease),
		box-shadow var(--analysis-duration-normal) var(--analysis-ease),
		opacity var(--analysis-duration-normal) var(--analysis-ease),
		transform var(--analysis-duration-normal) var(--analysis-ease);
	overflow: hidden;
	animation: analysis-panel-fade-in var(--analysis-duration-normal)
		cubic-bezier(0.34, 1.56, 0.64, 1);
}

.analysis-panel > * {
	margin: 0;
}

.analysis-panel-toolbar {
	padding: 0;
	margin: 0;
	background: transparent;
	border: none;
}

.analysis-panel-toolbar .filtersContainer {
	padding: var(--analysis-gap-md, 12px) var(--analysis-gap-lg, 16px);
	padding-bottom: var(--analysis-gap-sm, 8px);
	margin: 0;
	background: var(
		--analysis-surface-elevated,
		color-mix(in srgb, var(--color-neutral-50) 3%, transparent)
	);
	border: none;
	border-bottom: var(--card-border-width) solid
		var(--analysis-border, color-mix(in srgb, var(--color-neutral-50) 8%, transparent));
	border-radius: 0;
	backdrop-filter: none;
}

.analysis-panel:has(.analysis-panel-toolbar) .analysis-header {
	border-bottom: none;
}

.analysis-panel:has(.analysis-panel-toolbar) .collapsible-header {
	border-bottom: none;
	border-radius: var(--analysis-radius-xl, 16px) var(--analysis-radius-xl, 16px) 0 0;
}

.analysis-panel:has(.analysis-panel-toolbar) .collapsible-header--collapsed {
	border-radius: var(--analysis-radius-xl, 16px) var(--analysis-radius-xl, 16px) 0 0;
	margin-bottom: 0;
}

.analysis-panel:has(.analysis-panel-toolbar) .collapsible-content .collapsible-content-inner {
	padding-top: var(--analysis-gap-md, 12px);
}

.analysis-panel-toolbar .filtersContainer .resultsCount {
	margin-bottom: var(--analysis-gap-sm, 8px);
}

.analysis-panel-toolbar .filtersContainer .filterRow {
	margin-bottom: 0;
}

.analysis-panel > .collapsible-content {
	padding: 0;
	margin: 0;
}

.analysis-panel > .analysis-dashboard-content,
.analysis-panel > .top-names-list,
.analysis-panel > .admin-analytics-table-container {
	padding: var(--analysis-gap-lg, 16px);
	padding-top: var(--analysis-gap-md, 12px);
	margin: 0;
}

.analysis-panel
	> *:not(
		.collapsible-header,
		.analysis-header,
		.collapsible-content,
		.analysis-dashboard-content,
		.top-names-list,
		.admin-analytics-table-container,
		.collapsible-content-inner
	) {
	padding: var(--analysis-gap-lg, 16px);
	padding-top: var(--analysis-gap-md, 12px);
	margin: 0;
}

@keyframes analysis-panel-fade-in {
	from {
		opacity: 0;
		transform: translateY(var(--space-2));
	}

	to {
		opacity: 1;
		transform: translateY(0);
	}
}

.analysis-panel::before {
	content: "";
	position: absolute;
	inset: 0;
	border-radius: inherit;
	background: linear-gradient(
		135deg,
		color-mix(in srgb, var(--analysis-accent) 3%, transparent) 0%,
		transparent 50%
	);
	pointer-events: none;
	opacity: 0.6;
	transition: opacity var(--analysis-duration-normal) var(--analysis-ease);
}

.analysis-panel:hover {
	border-color: var(--analysis-border-hover);
	box-shadow:
		0 12px 48px color-mix(in srgb, var(--analysis-accent-rgb, 47 243 224) 10%, transparent),
		0 4px 12px var(--overlay-medium);
}

.analysis-panel:hover::before {
	opacity: 1;
}

/* ANALYSIS HEADER - Mode Indicator */
.analysis-header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: var(--analysis-gap-md);
	padding-bottom: var(--analysis-gap-md);
	border-bottom: var(--card-border-width) solid var(--analysis-border);
}

.analysis-header-content {
	display: flex;
	align-items: center;
	gap: var(--analysis-gap-sm);
}

.analysis-header-actions {
	display: flex;
	align-items: center;
	gap: var(--analysis-gap-xs);
}

.analysis-badge {
	display: inline-flex;
	align-items: center;
	gap: var(--analysis-gap-xs);
	padding: var(--analysis-gap-xs) var(--analysis-gap-sm);
	font-family: var(--analysis-text-mono);
	font-size: var(--analysis-text-caption);
	font-weight: var(--font-weight-semibold);
	color: var(--analysis-accent);
	text-transform: uppercase;
	letter-spacing: var(--tracking-wider);
	background: var(--analysis-accent-muted);
	border: var(--card-border-width) solid var(--analysis-border-accent);
	border-radius: var(--analysis-radius-full);
}

.analysis-badge::before {
	content: "";
	width: 6px;
	height: 6px;
	background: var(--analysis-accent);
	border-radius: var(--radius-full);
	animation: analysis-pulse var(--duration-slow) var(--ease-in-out) infinite;
}

@keyframes analysis-pulse {
	0%,
	100% {
		opacity: 1;
		transform: scale(1);
	}

	50% {
		opacity: 0.5;
		transform: scale(0.8);
	}
}

.analysis-title {
	margin: 0;
	font-size: var(--analysis-text-title);
	font-weight: var(--font-weight-bold);
	color: var(--text-primary);
	letter-spacing: var(--tracking-tight);
}

.analysis-header--collapsible {
	padding: var(--analysis-gap-sm) var(--analysis-gap-md);
	background: var(--analysis-surface-elevated);
	border-bottom: var(--card-border-width) solid var(--analysis-border);
	border-radius: var(--analysis-radius-xl) var(--analysis-radius-xl) 0 0;
}

/* ANALYSIS STATS - Dashboard Metrics */
.analysis-stats {
	display: grid;
	grid-template-columns: repeat(3, 1fr);
	gap: var(--analysis-gap-sm);
}

.analysis-stat {
	display: flex;
	flex-direction: column;
	gap: var(--analysis-gap-xs);
	padding: var(--analysis-gap-md);
	background: var(--analysis-surface-elevated);
	border: var(--card-border-width) solid var(--analysis-border);
	border-radius: var(--analysis-radius-lg);
	transition:
		transform var(--analysis-duration-fast) var(--analysis-ease),
		border-color var(--analysis-duration-fast) var(--analysis-ease);
}

.analysis-stat:hover {
	transform: translateY(calc(var(--card-border-width) * -2));
	border-color: var(--analysis-border-accent);
}

.analysis-stat-value {
	font-family: var(--analysis-text-mono);
	font-size: var(--analysis-text-headline);
	font-weight: var(--font-weight-bold);
	color: var(--text-primary);
	line-height: 1;
	letter-spacing: var(--tracking-tight);
}

.analysis-stat-label {
	font-size: var(--analysis-text-caption);
	font-weight: var(--font-weight-medium);
	color: var(--text-secondary);
	text-transform: uppercase;
	letter-spacing: var(--tracking-wider);
}

.analysis-stat--accent .analysis-stat-value {
	color: var(--analysis-accent);
}

/* ANALYSIS CHARTS - Visualizations */
.analysis-charts-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
	gap: var(--analysis-gap-md);
	margin-top: var(--analysis-gap-md);
}

.analysis-chart {
	display: flex;
	flex-direction: column;
	gap: var(--analysis-gap-md);
	padding: var(--analysis-gap-md);
	background: var(--analysis-surface-elevated);
	border: var(--card-border-width) solid var(--analysis-border);
	border-radius: var(--analysis-radius-lg);
}

.analysis-chart-title {
	font-size: var(--analysis-text-caption);
	font-weight: var(--font-weight-bold);
	color: var(--text-secondary);
	text-transform: uppercase;
	letter-spacing: var(--tracking-wide);
	margin: 0;
}

.analysis-chart-bars {
	display: flex;
	flex-direction: column;
	gap: var(--analysis-gap-sm);
}

.analysis-chart-row {
	display: grid;
	grid-template-columns: 100px 1fr var(--space-10);
	align-items: center;
	gap: var(--analysis-gap-sm);
}

.analysis-chart-label {
	font-size: var(--analysis-text-caption);
	color: var(--text-secondary);
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
	text-align: right;
}

.analysis-chart-bar-container {
	height: var(--space-2);
	background: var(--analysis-surface-2);
	border-radius: var(--analysis-radius-full);
	overflow: hidden;
}

.analysis-chart-bar {
	height: 100%;
	background: var(--analysis-accent);
	border-radius: var(--analysis-radius-full);
	transition: width var(--analysis-duration-normal) var(--analysis-ease);
}

.analysis-chart-value {
	font-family: var(--analysis-text-mono);
	font-size: var(--analysis-text-caption);
	color: var(--text-primary);
	text-align: right;
}

.analysis-chart-value small {
	font-size: 0.75em;
	color: var(--text-tertiary);
	margin-left: var(--analysis-gap-xs);
}

/* ANALYSIS TOOLBAR - Unified Controls */
.analysis-toolbar {
	position: sticky;
	top: 0;
	z-index: var(--z-10);
	display: flex;
	flex-wrap: wrap;
	align-items: center;
	gap: var(--analysis-gap-md);
	padding: var(--analysis-gap-md) var(--analysis-gap-lg);
	background: var(--analysis-surface-1);
	border: var(--card-border-width) solid var(--analysis-border);
	border-radius: var(--analysis-radius-lg);
	box-shadow: 0 2px 8px var(--overlay-light);
	backdrop-filter: blur(12px);
	transition: box-shadow var(--analysis-duration-fast) var(--analysis-ease);
}

.analysis-toolbar:hover {
	box-shadow: 0 4px 12px var(--overlay-light);
}

.analysis-toolbar::after {
	content: "";
	position: absolute;
	bottom: -1px;
	left: 0;
	right: 0;
	height: var(--card-border-width);
	background: linear-gradient(90deg, transparent, var(--analysis-border-accent), transparent);
}

.analysis-toolbar-content {
	display: flex;
	align-items: center;
	gap: var(--analysis-gap-sm);
	flex: 1;
	min-width: 0;
}

.analysis-toolbar-group {
	display: flex;
	align-items: center;
	gap: var(--analysis-gap-xs);
}

.analysis-toolbar-actions {
	display: flex;
	align-items: center;
	gap: var(--analysis-gap-sm);
	flex-shrink: 0;
	margin-left: auto;
}

.analysis-toolbar-divider {
	width: var(--card-border-width);
	height: 28px;
	background: var(--analysis-border);
	margin: 0 var(--analysis-gap-sm);
	opacity: 0.5;
}

.analysis-selection-badge {
	display: inline-flex;
	align-items: center;
	gap: var(--analysis-gap-xs);
	padding: var(--analysis-gap-xs) var(--analysis-gap-md);
	background: var(--analysis-accent-subtle);
	border: var(--card-border-width) solid var(--analysis-border-accent);
	border-radius: var(--analysis-radius-md);
	font-size: var(--analysis-text-body);
	white-space: nowrap;
	flex-shrink: 0;
}

.analysis-selection {
	display: flex;
	align-items: baseline;
	gap: var(--analysis-gap-xs);
	padding: var(--analysis-gap-xs) var(--analysis-gap-sm);
	background: var(--analysis-accent-muted);
	border-radius: var(--analysis-radius-md);
	animation: analysis-selection-pulse var(--analysis-duration-fast) var(--analysis-ease);
}

@keyframes analysis-selection-pulse {
	0% {
		transform: scale(0.95);
		opacity: 0.7;
	}

	100% {
		transform: scale(1);
		opacity: 1;
	}
}

.analysis-selection-count {
	font-family: var(--analysis-text-mono);
	font-size: var(--analysis-text-title);
	font-weight: var(--font-weight-bold);
	color: var(--analysis-accent);
	line-height: 1;
}

.analysis-selection-label {
	color: var(--text-secondary);
	font-size: var(--analysis-text-caption);
	text-transform: lowercase;
	font-weight: var(--font-weight-medium);
}

/* ANALYSIS BUTTONS - Intentional Actions */
.analysis-btn {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: var(--analysis-gap-xs);
	padding: var(--analysis-gap-sm) var(--analysis-gap-md);
	font-size: var(--analysis-text-body);
	font-weight: var(--font-weight-semibold);
	color: var(--text-primary);
	background: transparent;
	border: var(--card-border-width) solid var(--analysis-border);
	border-radius: var(--analysis-radius-md);
	cursor: pointer;
	transition:
		background var(--analysis-duration-fast) var(--analysis-ease),
		border-color var(--analysis-duration-fast) var(--analysis-ease),
		transform var(--analysis-duration-fast) var(--analysis-ease),
		box-shadow var(--analysis-duration-fast) var(--analysis-ease);
	white-space: nowrap;
	min-height: var(--input-height-md);
}

.analysis-btn:hover:not(:disabled) {
	background: var(--analysis-accent-subtle);
	border-color: var(--analysis-border-accent);
	transform: translateY(-1px);
	box-shadow: 0 2px 8px var(--overlay-light);
}

.analysis-btn:active:not(:disabled) {
	transform: translateY(0) scale(0.98);
	box-shadow: 0 1px 4px var(--overlay-light);
}

.analysis-btn:disabled {
	opacity: 0.4;
	cursor: not-allowed;
	transform: none;
}

.analysis-btn span[aria-hidden="true"] {
	font-size: 1em;
	line-height: 1;
}

.analysis-btn-count {
	font-size: 0.85em;
	opacity: 0.7;
	margin-left: var(--analysis-gap-xs);
}

.analysis-btn[title] {
	position: relative;
}

.analysis-btn--primary {
	color: var(--background-color);
	background: var(--analysis-accent);
	border-color: var(--analysis-accent);
}

.analysis-btn--primary:hover:not(:disabled) {
	background: color-mix(in srgb, var(--analysis-accent) 85%, transparent);
	border-color: color-mix(in srgb, var(--analysis-accent) 85%, transparent);
	box-shadow: var(--analysis-accent-glow);
	transform: translateY(-1px);
}

.analysis-btn--danger {
	color: var(--color-error);
	border-color: color-mix(in srgb, var(--color-error) 30%, transparent);
}

.analysis-btn--danger:hover:not(:disabled) {
	background: color-mix(in srgb, var(--color-error) 12%, transparent);
	border-color: color-mix(in srgb, var(--color-error) 50%, transparent);
	transform: translateY(-1px);
}

.analysis-btn--ghost {
	border-color: transparent;
}

.analysis-btn--ghost:hover:not(:disabled) {
	background: var(--analysis-surface-elevated);
	border-color: transparent;
}

/* ANALYSIS FILTERS - Compact Controls */
.analysis-filters {
	display: flex;
	flex-wrap: wrap;
	align-items: stretch;
	gap: var(--analysis-gap-sm);
}

.analysis-filter {
	display: flex;
	flex-direction: column;
	gap: var(--analysis-gap-xs);
	min-width: 120px;
	flex: 1;
}

.analysis-filter-label {
	font-size: var(--analysis-text-caption);
	font-weight: var(--font-weight-semibold);
	color: var(--text-secondary);
	text-transform: uppercase;
	letter-spacing: var(--tracking-wide);
}

.analysis-input,
.analysis-select {
	padding: var(--analysis-gap-xs) var(--analysis-gap-sm);
	font-size: var(--analysis-text-body);
	color: var(--text-primary);
	background: var(--analysis-surface-1);
	border: var(--card-border-width) solid var(--analysis-border);
	border-radius: var(--analysis-radius-md);
	transition:
		border-color var(--analysis-duration-fast) var(--analysis-ease),
		box-shadow var(--analysis-duration-fast) var(--analysis-ease);
}

.analysis-input:focus,
.analysis-select:focus {
	outline: none;
	border-color: var(--analysis-accent);
	box-shadow: 0 0 0 2px var(--analysis-accent-muted);
}

.analysis-input::placeholder {
	color: var(--text-tertiary);
}

.analysis-search {
	position: relative;
	flex: 2;
	min-width: 200px;
}

.analysis-search-input {
	width: 100%;
	padding-left: calc(var(--analysis-gap-sm) + 20px);
}

.analysis-search-icon {
	position: absolute;
	left: var(--analysis-gap-sm);
	top: 50%;
	transform: translateY(-50%);
	color: var(--text-tertiary);
	pointer-events: none;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* ANALYSIS HIGHLIGHTS - Top Items Display */
.analysis-highlights {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
	gap: var(--analysis-gap-sm);
}

.analysis-highlight {
	display: flex;
	flex-direction: column;
	gap: var(--analysis-gap-sm);
	padding: var(--analysis-gap-md);
	background: var(--analysis-surface-elevated);
	border: var(--card-border-width) solid var(--analysis-border);
	border-left: var(--space-1) solid var(--analysis-accent);
	border-radius: var(--analysis-radius-md);
}

.analysis-highlight-title {
	font-size: var(--analysis-text-caption);
	font-weight: var(--font-weight-bold);
	color: var(--text-secondary);
	text-transform: uppercase;
	letter-spacing: var(--tracking-wide);
}

.analysis-highlight-list {
	display: flex;
	flex-direction: column;
	gap: var(--analysis-gap-xs);
	margin: 0;
	padding: 0;
	list-style: none;
}

.analysis-highlight-item {
	display: flex;
	justify-content: space-between;
	align-items: center;
	font-size: var(--analysis-text-body);
}

.analysis-highlight-name {
	color: var(--text-primary);
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.analysis-highlight-value {
	font-family: var(--analysis-text-mono);
	font-weight: var(--font-weight-semibold);
	color: var(--text-secondary);
}

/* ANALYSIS PROGRESS - Visual Feedback */
.analysis-progress {
	display: flex;
	align-items: center;
	gap: var(--analysis-gap-sm);
}

.analysis-progress-bar {
	flex: 1;
	height: var(--space-1);
	background: var(--analysis-border);
	border-radius: var(--analysis-radius-full);
	overflow: hidden;
}

.analysis-progress-fill {
	height: 100%;
	background: var(--analysis-accent);
	border-radius: var(--analysis-radius-full);
	transition: width var(--analysis-duration-slow) var(--analysis-ease);
}

.analysis-progress-text {
	font-family: var(--analysis-text-mono);
	font-size: var(--analysis-text-caption);
	color: var(--text-secondary);
	white-space: nowrap;
}

/* ANALYSIS TOGGLE - Navbar Mode Switch */
.analysis-toggle {
	position: relative;
	display: flex;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	gap: var(--analysis-gap-sm);
	padding: var(--analysis-gap-sm) var(--analysis-gap-md);
	font-size: var(--analysis-text-body);
	font-weight: var(--font-weight-semibold);
	color: var(--text-primary);
	background: transparent;
	border: var(--card-border-width) solid var(--analysis-border);
	border-radius: var(--analysis-radius-lg);
	cursor: pointer;
	transition: all var(--analysis-duration-normal) var(--analysis-ease);
}

.analysis-toggle:hover {
	background: var(--analysis-accent-subtle);
	border-color: var(--analysis-border-accent);
}

.analysis-toggle--active {
	color: var(--analysis-accent);
	background: var(--analysis-accent-muted);
	border-color: var(--analysis-accent);
	box-shadow: var(--analysis-accent-glow);
}

.analysis-toggle--active::before {
	content: "";
	position: absolute;
	inset: -1px;
	border-radius: inherit;
	background: linear-gradient(
		135deg,
		color-mix(in srgb, var(--analysis-accent) 20%, transparent),
		transparent
	);
	pointer-events: none;
}

.analysis-toggle-indicator {
	width: var(--space-2);
	height: var(--space-2);
	background: currentcolor;
	border-radius: var(--analysis-radius-full);
	opacity: 0.5;
	transition:
		opacity var(--analysis-duration-fast) var(--analysis-ease),
		transform var(--analysis-duration-fast) var(--analysis-ease);
}

.analysis-toggle--active .analysis-toggle-indicator {
	opacity: 1;
	animation: analysis-pulse var(--duration-slow) var(--ease-in-out) infinite;
}

.analysis-toggle-label {
	flex: 1;
	text-align: left;
}

.analysis-toggle-shortcut {
	font-family: var(--analysis-text-mono);
	font-size: 0.7em;
	padding: var(--card-border-width) 6px;
	background: var(--analysis-surface-elevated);
	border: var(--card-border-width) solid var(--analysis-border);
	border-radius: var(--analysis-radius-sm);
	opacity: 0.6;
	transition: opacity var(--analysis-duration-fast) var(--analysis-ease);
}
