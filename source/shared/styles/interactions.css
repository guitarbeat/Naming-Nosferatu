/**
 * @file interactions.css
 * @description Comprehensive interaction system - cohesive visual feedback across all interactive elements
 *
 * Design Principles:
 * - Consistency: All interactions share timing curves and easing
 * - Subtlety: Effects reinforce without distracting
 * - Cohesion: Components feel connected to the larger interface
 */

/* ==========================================================================
   INTERACTION TOKENS - Single source of truth for motion
   ========================================================================== */
:root {
	/* Timing curves - shared across all interactions */
	--ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
	--ease-out-back: cubic-bezier(0.34, 1.56, 0.64, 1);
	--ease-in-out-smooth: cubic-bezier(0.4, 0, 0.2, 1);
	--ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);

	/* Durations - consistent timing scale */
	--duration-micro: 80ms;
	--duration-quick: 120ms;
	--duration-base: 180ms;
	--duration-moderate: 250ms;
	--duration-gentle: 350ms;

	/* Transform scales */
	--scale-press: 0.97;
	--scale-hover: 1.02;
	--scale-subtle: 1.005;

	/* Lift distances */
	--lift-micro: -1px;
	--lift-small: -2px;
	--lift-medium: -3px;

	/* Focus ring */
	--focus-ring-color: hsl(var(--primary) / 40%);
	--focus-ring-spread: 3px;
	--focus-ring-offset: 2px;

	/* Glow intensities */
	--glow-subtle: 0 0 12px hsl(var(--primary) / 15%);
	--glow-medium: 0 0 20px hsl(var(--primary) / 25%);
	--glow-strong: 0 0 30px hsl(var(--primary) / 35%);
}

/* ==========================================================================
   BASE INTERACTIVE ELEMENT STYLES
   ========================================================================== */

/* Universal interactive transition */
.interactive,
button,
[role="button"],
a,
input,
select,
textarea,
[type="checkbox"],
[type="radio"],
.clickable {
	transition:
		transform var(--duration-base) var(--ease-out-expo),
		box-shadow var(--duration-base) var(--ease-out-expo),
		background-color var(--duration-quick) var(--ease-in-out-smooth),
		border-color var(--duration-quick) var(--ease-in-out-smooth),
		opacity var(--duration-quick) var(--ease-in-out-smooth);
	will-change: transform, box-shadow;
}

/* ==========================================================================
   BUTTON INTERACTIONS
   ========================================================================== */

/* Primary button hover - gentle lift with glow */
button:not(:disabled):hover,
[role="button"]:not([aria-disabled="true"]):hover,
.btn:not(:disabled):hover {
	transform: translateY(var(--lift-small)) scale(var(--scale-subtle));
	box-shadow:
		0 4px 12px hsl(var(--foreground) / 8%),
		var(--glow-subtle);
}

/* Primary button active - press down */
button:not(:disabled):active,
[role="button"]:not([aria-disabled="true"]):active,
.btn:not(:disabled):active {
	transform: translateY(0) scale(var(--scale-press));
	box-shadow: 0 1px 4px hsl(var(--foreground) / 10%);
	transition-duration: var(--duration-micro);
}

/* Icon buttons - circular feedback */
.icon-btn:not(:disabled):hover,
button[aria-label]:not(:disabled):hover {
	background-color: hsl(var(--muted) / 80%);
	transform: scale(var(--scale-hover));
}

.icon-btn:not(:disabled):active,
button[aria-label]:not(:disabled):active {
	transform: scale(var(--scale-press));
	transition-duration: var(--duration-micro);
}

/* ==========================================================================
   INPUT INTERACTIONS
   ========================================================================== */

/* Input focus - subtle expansion with glow ring */
input:focus,
textarea:focus,
select:focus {
	outline: none;
	border-color: hsl(var(--primary));
	box-shadow:
		0 0 0 var(--focus-ring-spread) var(--focus-ring-color),
		inset 0 1px 2px hsl(var(--foreground) / 5%);
	transform: scale(1.005);
}

/* Input hover - subtle border highlight */
input:not(:focus):hover,
textarea:not(:focus):hover,
select:not(:focus):hover {
	border-color: hsl(var(--foreground) / 30%);
}

/* ==========================================================================
   CHECKBOX & RADIO INTERACTIONS
   ========================================================================== */

[type="checkbox"],
[type="radio"] {
	cursor: pointer;
	transition:
		transform var(--duration-base) var(--ease-spring),
		box-shadow var(--duration-base) var(--ease-out-expo);
}

[type="checkbox"]:hover,
[type="radio"]:hover {
	transform: scale(1.1);
	box-shadow: var(--glow-subtle);
}

[type="checkbox"]:active,
[type="radio"]:active {
	transform: scale(0.95);
}

[type="checkbox"]:checked,
[type="radio"]:checked {
	animation: check-pop var(--duration-moderate) var(--ease-out-back);
}

@keyframes check-pop {
	0% {
		transform: scale(0.8);
	}

	50% {
		transform: scale(1.15);
	}

	100% {
		transform: scale(1);
	}
}

/* ==========================================================================
   TOGGLE/SWITCH INTERACTIONS
   ========================================================================== */

.toggle,
[role="switch"] {
	cursor: pointer;
	transition:
		background-color var(--duration-base) var(--ease-in-out-smooth),
		box-shadow var(--duration-base) var(--ease-out-expo);
}

.toggle:hover,
[role="switch"]:hover {
	box-shadow: var(--glow-medium);
}

.toggle:active,
[role="switch"]:active {
	transform: scale(0.98);
}

/* Toggle thumb animation */
.toggle-thumb,
[role="switch"]::before {
	transition:
		transform var(--duration-moderate) var(--ease-out-back),
		background-color var(--duration-quick) var(--ease-in-out-smooth);
}

/* ==========================================================================
   CARD INTERACTIONS
   ========================================================================== */

.card-interactive:hover {
	transform: translateY(var(--lift-small));
	box-shadow:
		0 8px 24px hsl(var(--foreground) / 10%),
		0 2px 8px hsl(var(--foreground) / 5%);
}

.card-interactive:active {
	transform: translateY(var(--lift-micro)) scale(0.995);
	transition-duration: var(--duration-micro);
}

/* ==========================================================================
   LINK INTERACTIONS
   ========================================================================== */

a:not(.btn):hover {
	opacity: 0.85;
}

/* Underline animation for text links */
.link-underline {
	position: relative;
}

.link-underline::after {
	content: "";
	position: absolute;
	bottom: -2px;
	left: 0;
	width: 100%;
	height: 1.5px;
	background: currentcolor;
	transform: scaleX(0);
	transform-origin: right center;
	transition: transform var(--duration-moderate) var(--ease-out-expo);
}

.link-underline:hover::after {
	transform: scaleX(1);
	transform-origin: left center;
}

/* ==========================================================================
   SLIDER/RANGE INTERACTIONS
   ========================================================================== */

input[type="range"] {
	cursor: pointer;
}

input[type="range"]::-webkit-slider-thumb {
	transition:
		transform var(--duration-base) var(--ease-spring),
		box-shadow var(--duration-base) var(--ease-out-expo);
}

input[type="range"]:hover::-webkit-slider-thumb {
	transform: scale(1.15);
	box-shadow: var(--glow-medium);
}

input[type="range"]:active::-webkit-slider-thumb {
	transform: scale(1.05);
	box-shadow: var(--glow-strong);
}

input[type="range"]::-moz-range-thumb {
	transition:
		transform var(--duration-base) var(--ease-spring),
		box-shadow var(--duration-base) var(--ease-out-expo);
}

input[type="range"]:hover::-moz-range-thumb {
	transform: scale(1.15);
	box-shadow: var(--glow-medium);
}

/* ==========================================================================
   FOCUS VISIBLE STATES - Keyboard navigation
   ========================================================================== */

*:focus-visible {
	outline: 2px solid hsl(var(--primary));
	outline-offset: var(--focus-ring-offset);
	border-radius: var(--radius-sm, 4px);
}

button:focus-visible,
[role="button"]:focus-visible {
	box-shadow:
		0 0 0 var(--focus-ring-spread) var(--focus-ring-color),
		var(--glow-medium);
}

/* ==========================================================================
   DISABLED STATES
   ========================================================================== */

button:disabled,
[role="button"][aria-disabled="true"],
input:disabled,
select:disabled,
textarea:disabled,
.disabled {
	opacity: 0.5;
	cursor: not-allowed;
	pointer-events: none;
	transform: none;
	box-shadow: none;
}

/* ==========================================================================
   LOADING STATES
   ========================================================================== */

.loading {
	position: relative;
	pointer-events: none;
}

.loading::after {
	content: "";
	position: absolute;
	inset: 0;
	background: linear-gradient(
		90deg,
		transparent 0%,
		hsl(var(--background) / 40%) 50%,
		transparent 100%
	);
	animation: shimmer-loading 1.5s infinite;
}

@keyframes shimmer-loading {
	0% {
		transform: translateX(-100%);
	}

	100% {
		transform: translateX(100%);
	}
}

/* ==========================================================================
   RIPPLE EFFECT - Touch/click feedback
   ========================================================================== */

.ripple-container {
	position: relative;
	overflow: hidden;
}

.ripple {
	position: absolute;
	border-radius: 50%;
	background: hsl(var(--foreground) / 15%);
	transform: scale(0);
	animation: ripple-expand var(--duration-gentle) var(--ease-out-expo) forwards;
	pointer-events: none;
}

@keyframes ripple-expand {
	to {
		transform: scale(2.5);
		opacity: 0;
	}
}

/* ==========================================================================
   CURSOR STYLES
   ========================================================================== */

/* Base cursor for interactive elements */
button,
a,
[role="button"],
[tabindex]:not([tabindex="-1"]),
input[type="button"],
input[type="submit"],
input[type="reset"],
select,
label[for],
.clickable {
	cursor: pointer;
}

/* Text input cursor */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="search"],
input[type="tel"],
input[type="url"],
input[type="number"],
textarea {
	cursor: text;
}

/* Disabled state cursor */
button:disabled,
button:disabled:hover,
input:disabled,
input:disabled:hover,
select:disabled,
select:disabled:hover,
textarea:disabled,
textarea:disabled:hover,
.disabled,
.disabled:hover,
[aria-disabled="true"],
[aria-disabled="true"]:hover {
	cursor: not-allowed;
}

/* Loading state cursor */
.loading,
.loading:hover,
[aria-busy="true"],
[aria-busy="true"]:hover {
	cursor: wait;
}

/* Grab/grabbing cursors for draggable elements */
.draggable,
[draggable="true"],
.swipeCard {
	cursor: grab;
}

.draggable:active,
[draggable="true"]:active,
.swipeCard:active,
.dragging,
.dragging:hover {
	cursor: grabbing;
}

/* Resize cursors */
.resize-horizontal {
	cursor: ew-resize;
}

.resize-vertical {
	cursor: ns-resize;
}

.resize-both {
	cursor: nwse-resize;
}

/* Help cursor for tooltips */
.help,
[aria-describedby],
[title]:not([title=""], button, a) {
	cursor: help;
}

/* Copy cursor for copyable content */
.copyable,
[data-copy] {
	cursor: copy;
}

/* Context-specific cursors */
a[href]:not([href=""], [href="#"], [aria-disabled="true"]) {
	cursor: pointer;
}

a[href=""]:not([aria-disabled="true"]),
a[href="#"]:not([aria-disabled="true"]) {
	cursor: default;
}

img[onclick],
img[role="button"],
img.clickable {
	cursor: pointer;
}

.card:not(.disabled, .static),
.name-card:not(.disabled),
.swipeCard:not(.disabled) {
	cursor: pointer;
}

.card.static,
.card.disabled,
.name-card.disabled,
.swipeCard.disabled {
	cursor: default;
}

/* ==========================================================================
   POINTER EVENTS MANAGEMENT
   ========================================================================== */

/* Prevent text selection on interactive elements */
button,
[role="button"],
.draggable,
[draggable="true"] {
	user-select: none;
}

/* Allow text selection in inputs and textareas */
input,
textarea,
[contenteditable="true"] {
	user-select: text;
}

/* Enable pointer events for loading overlays */
.loading-overlay {
	pointer-events: auto;
	cursor: wait;
}

/* ==========================================================================
   TOUCH DEVICE OPTIMIZATIONS
   ========================================================================== */

@media (hover: none) and (pointer: coarse) {
	/* Remove hover effects on touch devices */
	button:not(:disabled):hover,
	a:not([aria-disabled="true"]):hover,
	[role="button"]:not([aria-disabled="true"]):hover {
		transform: none;
	}

	/* Enhanced active state for touch */
	button:not(:disabled):active,
	a:not([aria-disabled="true"]):active,
	[role="button"]:not([aria-disabled="true"]):active,
	.clickable:not(.disabled):active {
		transform: scale(0.97);
		transition: transform 0.1s ease;
	}

	/* Larger touch targets */
	button,
	a,
	[role="button"],
	.clickable {
		min-width: 44px;
		min-height: 44px;
	}

	/* Name card touch feedback */
	.name-card:active,
	.card:not(.disabled):active {
		transform: scale(0.98);
		transition: all 0.1s ease-out;
	}

	/* Prevent text selection on touch */
	.name-card,
	.card {
		user-select: none;
	}
}

/* ==========================================================================
   REDUCED MOTION - Accessibility
   ========================================================================== */

@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms;
		animation-iteration-count: 1;
		transition-duration: 0.01ms;
	}

	button:not(:disabled):hover,
	a:not([aria-disabled="true"]):hover,
	[role="button"]:not([aria-disabled="true"]):hover,
	.clickable:not(.disabled):hover,
	.name-card:not(.disabled):hover {
		transform: none;
		transition: none;
	}
}

/* ==========================================================================
   HIGH CONTRAST MODE
   ========================================================================== */

@media (prefers-contrast: more) {
	button:focus-visible,
	a:focus-visible,
	[role="button"]:focus-visible {
		outline: 4px solid;
		outline-offset: 4px;
	}
}

/* ==========================================================================
   UTILITY CLASSES - Explicit interaction patterns
   ========================================================================== */

/* Lift Effect - For cards and clickable containers */
.interact-lift {
	transition:
		transform var(--duration-normal) var(--ease-standard),
		box-shadow var(--duration-normal) var(--ease-standard);
	will-change: transform, box-shadow;
}

.interact-lift:hover:not(:disabled) {
	transform: translateY(var(--lift-small));
	box-shadow: var(--shadow-lg);
}

.interact-lift:active:not(:disabled) {
	transform: translateY(var(--lift-micro));
	transition-duration: var(--duration-fast);
}

/* Bounce Effect - For icons and small buttons */
.interact-bounce {
	transition: transform var(--duration-fast) var(--ease-spring);
}

.interact-bounce:hover:not(:disabled) {
	transform: scale(1.1);
}

.interact-bounce:active:not(:disabled) {
	transform: scale(0.9);
}

/* Press Effect - For flat buttons */
.interact-press {
	transition: transform var(--duration-fast) var(--ease-out);
}

.interact-press:active:not(:disabled) {
	transform: scale(0.96);
}

/* Glow Effect - For primary actions */
.interact-glow {
	transition: box-shadow var(--duration-normal) ease;
}

.interact-glow:hover:not(:disabled) {
	box-shadow: 0 0 15px var(--color-neon-cyan, rgba(0, 255, 255, 0.5));
}

.interact-glow:focus-visible {
	outline: 2px solid var(--color-neon-cyan);
	outline-offset: 2px;
}
