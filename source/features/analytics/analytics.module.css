/* ==========================================================================
   Analytics Module - Consolidated CSS
   ========================================================================== */

/* ==========================================================================
   ANALYSIS DASHBOARD
   ========================================================================== */

.analysisContainer {
	display: flex;
	flex-direction: column;
	gap: var(--space-4);
	max-width: 1400px;
	margin: 0 auto;
	padding: var(--space-4);
}

.analysisHeader {
	display: flex;
	flex-direction: column;
	gap: var(--space-3);
	margin-bottom: var(--space-4);
}

.analysisTitle {
	font-size: var(--text-2xl);
	font-weight: var(--font-weight-bold);
	color: var(--text-primary);
	margin: 0;
}

.analysisSubtitle {
	font-size: var(--text-base);
	color: var(--text-secondary);
	margin: 0;
}

.analysisGrid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
	gap: var(--space-4);
}

/* ==========================================================================
   ANALYSIS PANEL
   ========================================================================== */

.analysisPanel,
.panel {
	background: var(--glass-bg);
	border: 1px solid var(--glass-border);
	border-radius: var(--radius-lg);
	padding: var(--space-4);
	box-shadow: var(--shadow-md);
	backdrop-filter: blur(var(--glass-blur));
	transition: var(--transition-base);
}

.analysisPanel:hover {
	border-color: var(--glass-border-hover);
	box-shadow: var(--shadow-lg);
}

.panelHeader {
	display: flex;
	align-items: center;
	justify-content: space-between;
	margin-bottom: var(--space-3);
	padding-bottom: var(--space-2);
	border-bottom: 1px solid var(--glass-border);
}

.panelTitle {
	font-size: var(--text-lg);
	font-weight: var(--font-weight-semibold);
	color: var(--text-primary);
	margin: 0;
}

.panelActions {
	display: flex;
	gap: var(--space-2);
}

/* Panel Status States */
.loading,
.error,
.empty {
	background: var(--glass-bg-light);
	backdrop-filter: blur(var(--glass-blur));
	-webkit-backdrop-filter: blur(var(--glass-blur));
	border: 1px solid var(--glass-border);
	border-radius: var(--radius-lg);
	padding: var(--space-8);
	text-align: center;
	color: var(--text-secondary);
	font-size: var(--text-sm);
}

.error {
	color: var(--color-error);
	background: color-mix(in srgb, var(--color-error) 10%, transparent);
}

/* ==========================================================================
   INSIGHTS SECTION
   ========================================================================== */

.insights {
	display: flex;
	flex-direction: column;
	gap: var(--space-2);
	margin-bottom: var(--space-4);
}

.insightsPanel {
	display: flex;
	flex-direction: column;
	gap: var(--space-3);
	max-width: 1100px;
	margin: 0 auto;
}

.insightsSection {
	display: flex;
	flex-direction: column;
	gap: var(--space-2);
	margin-bottom: var(--space-4);
}

.sectionTitle {
	font-size: var(--text-base);
	font-weight: var(--font-weight-semibold);
	color: var(--text-primary);
	margin: 0;
	padding: var(--space-2) 0;
	border-bottom: 1px solid var(--glass-border);
}

.insightCards {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
	gap: var(--space-2);
}

.insightCard {
	padding: var(--space-4);
	border-radius: var(--radius-lg);
	border: 1px solid var(--glass-border);
	background: linear-gradient(135deg, var(--glass-bg-light) 0%, var(--glass-bg) 100%);
	display: flex;
	flex-direction: column;
	gap: var(--space-2);
	transition: var(--transition-base);
	backdrop-filter: blur(var(--glass-blur));
	box-shadow: var(--shadow-md);
}

.insightCard:hover {
	transform: translateY(-2px);
	border-color: color-mix(in srgb, var(--color-neon-cyan) 25%, transparent);
	box-shadow: var(--shadow-lg);
	background: linear-gradient(135deg,
			color-mix(in srgb, var(--color-neon-cyan) 8%, transparent) 0%,
			color-mix(in srgb, var(--color-hot-pink) 5%, transparent) 100%);
}

.insightCard.warning {
	border-color: color-mix(in srgb, var(--color-error) 30%, transparent);
	background: color-mix(in srgb, var(--color-error) 8%, transparent);
}

.cardHeader {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: var(--space-2);
}

.cardName {
	font-weight: var(--font-weight-bold);
	color: var(--text-primary);
	flex: 1;
	min-width: 0;
}

.cardHideBtn {
	padding: var(--space-1) var(--space-2);
	font-size: var(--text-xs);
	font-weight: var(--font-weight-medium);
	color: var(--color-error);
	background: transparent;
	border: 1px solid color-mix(in srgb, var(--color-error) 30%, transparent);
	border-radius: var(--radius-sm);
	cursor: pointer;
	transition: var(--transition-base);
	white-space: nowrap;
	flex-shrink: 0;
}

.cardHideBtn:hover {
	background: color-mix(in srgb, var(--color-error) 10%, transparent);
	border-color: color-mix(in srgb, var(--color-error) 50%, transparent);
	transform: scale(1.05);
}

.cardMetrics {
	display: flex;
	gap: var(--space-2);
	flex-wrap: wrap;
	font-size: var(--text-sm);
	color: var(--text-secondary);
}

.cardTags {
	display: flex;
	flex-wrap: wrap;
	gap: var(--space-1);
}

.tag {
	padding: var(--space-1) var(--space-2);
	border-radius: var(--radius-full);
	background: var(--glass-bg-light);
	color: var(--text-primary);
	font-size: var(--text-xs);
	text-transform: capitalize;
}

.tag.warning {
	background: color-mix(in srgb, var(--color-error) 20%, transparent);
	color: var(--color-error);
	border: 1px solid color-mix(in srgb, var(--color-error) 30%, transparent);
}

.insight {
	display: flex;
	align-items: center;
	gap: var(--space-2);
	padding: var(--space-2) var(--space-3);
	background: var(--glass-bg);
	border-radius: var(--radius-md);
	border-left: 4px solid transparent;
	transition: var(--transition-base);
}

.insight:hover {
	background: var(--glass-bg-light);
	transform: translateX(4px);
}

.insight.top {
	border-left-color: color-mix(in srgb, var(--color-neon-cyan) 50%, transparent);
}

.insight.popular {
	border-left-color: color-mix(in srgb, var(--color-hot-pink) 50%, transparent);
}

.insight.quality {
	border-left-color: color-mix(in srgb, var(--color-neon-cyan) 30%, transparent);
}

.insight.warning {
	border-left-color: color-mix(in srgb, var(--color-error) 50%, transparent);
	background: color-mix(in srgb, var(--color-error) 5%, transparent);
}

.insight.info {
	border-left-color: color-mix(in srgb, var(--color-neon-cyan) 30%, transparent);
}

.insightIcon {
	font-size: var(--text-lg);
	line-height: 1;
	flex-shrink: 0;
}

.insightText {
	font-size: var(--text-sm);
	color: var(--text-primary);
	line-height: 1.4;
}

/* ==========================================================================
   STATS SUMMARY
   ========================================================================== */

.statsSummary {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
	gap: var(--space-3);
	padding: var(--space-4);
	background: linear-gradient(135deg, var(--glass-bg-light), var(--glass-bg));
	border-radius: var(--radius-lg);
	border: 1px solid var(--glass-border);
	box-shadow: var(--shadow-md);
	backdrop-filter: blur(var(--glass-blur));
}

.statCard {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: var(--space-1);
	padding: var(--space-3);
	background: linear-gradient(145deg, var(--glass-bg), var(--glass-bg-light));
	border-radius: var(--radius-md);
	border: 1px solid var(--glass-border);
	transition: var(--transition-base);
	position: relative;
	overflow: hidden;
	text-align: center;
	box-shadow: var(--shadow-sm);
}

.statCard:hover {
	transform: translateY(-2px);
	box-shadow: var(--shadow-md);
	border-color: var(--glass-border-hover);
}

.statCard::before {
	content: "";
	position: absolute;
	inset: 0;
	background: radial-gradient(circle at center, var(--glass-bg-light), transparent 70%);
	opacity: 0;
	transition: opacity var(--duration-fast);
}

.statCard:hover::before {
	opacity: 1;
}

.statLabel {
	font-size: var(--text-xs);
	font-weight: var(--font-weight-medium);
	color: var(--text-tertiary);
	text-transform: uppercase;
	letter-spacing: var(--tracking-wide);
}

.statValue {
	font-size: var(--text-2xl);
	font-weight: var(--font-weight-bold);
	color: var(--text-primary);
	line-height: 1.1;
}

.statName {
	font-size: var(--text-sm);
	color: var(--text-secondary);
	font-weight: var(--font-weight-medium);
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
	max-width: 100%;
}

.statSubtext {
	font-size: var(--text-xs);
	color: var(--text-tertiary);
}

.statsGrid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
	gap: var(--space-3);
}

/* ==========================================================================
   ANALYSIS TABLE
   ========================================================================== */

.tableWrapper {
	overflow-x: auto;
	border-radius: var(--radius-lg);
	border: 1px solid var(--glass-border);
	background: var(--glass-bg);
	box-shadow: var(--shadow-md);
}

.table {
	width: 100%;
	border-collapse: collapse;
	font-size: var(--text-sm);
}

.table th,
.table td {
	padding: var(--space-3) var(--space-4);
	text-align: left;
	border-bottom: 1px solid var(--glass-border-light);
}

.table th {
	font-weight: var(--font-weight-semibold);
	color: var(--text-primary);
	background: var(--glass-bg-light);
	font-size: var(--text-xs);
	text-transform: uppercase;
	letter-spacing: var(--tracking-wide);
}

.tableRow {
	transition: var(--transition-fast);
}

.tableRow:hover {
	background: var(--glass-bg-light);
}

.tableRow:nth-child(even) {
	background: color-mix(in srgb, var(--glass-bg) 50%, transparent);
}

.tableRow:nth-child(even):hover {
	background: var(--glass-bg-light);
}

.tableHeader {
	background: var(--glass-bg-light);
	border-bottom: 1px solid var(--glass-border);
}

.tableBody tr {
	border-bottom: 1px solid var(--glass-border-light);
	transition: var(--transition-fast);
}

.tableBody tr:hover {
	background: var(--glass-bg-light);
}

.tableBody td {
	padding: var(--space-3) var(--space-4);
	font-size: var(--text-sm);
	color: var(--text-secondary);
}

.tableCell {
	display: flex;
	align-items: center;
	gap: var(--space-2);
}

.cellValue {
	font-weight: var(--font-weight-medium);
	color: var(--text-primary);
}

.cellRank {
	width: 24px;
	height: 24px;
	border-radius: 50%;
	background: var(--glass-bg-light);
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: var(--text-xs);
	font-weight: var(--font-weight-bold);
	color: var(--text-primary);
}

.cellRank.top3 {
	background: linear-gradient(135deg, var(--color-neon-cyan), var(--color-hot-pink));
	color: white;
}

/* Table column styles */
.colActions {
	width: 80px;
	text-align: center;
}

.colRank {
	width: 60px;
}

.colName {
	min-width: 120px;
	font-weight: var(--font-weight-medium);
	color: var(--text-primary);
}

.hideButton {
	padding: var(--space-1) var(--space-2);
	font-size: var(--text-xs);
	background: transparent;
	color: var(--color-error);
	border: 1px solid color-mix(in srgb, var(--color-error) 30%, transparent);
	border-radius: var(--radius-sm);
	cursor: pointer;
	transition: var(--transition-base);
}

.hideButton:hover {
	background: color-mix(in srgb, var(--color-error) 10%, transparent);
}

.rankBadge {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	min-width: 28px;
	height: 28px;
	padding: 0 var(--space-2);
	border-radius: var(--radius-full);
	font-size: var(--text-sm);
	font-weight: var(--font-weight-bold);
	background: var(--glass-bg-light);
	color: var(--text-primary);
}

.rankBadge.top {
	background: linear-gradient(135deg, var(--color-neon-cyan), var(--color-hot-pink));
	color: white;
}

.metricWithBar {
	display: flex;
	flex-direction: column;
	gap: var(--space-1);
}

.metricBar {
	height: 4px;
	background: var(--glass-bg-light);
	border-radius: var(--radius-full);
	overflow: hidden;
}

.metricBarFill {
	height: 100%;
	border-radius: var(--radius-full);
	transition: width var(--duration-normal) var(--ease-out);
}

.metricBarFill.rating {
	background: linear-gradient(90deg, var(--color-neon-cyan), var(--color-hot-pink));
}

.metricBarFill.wins {
	background: linear-gradient(90deg, var(--color-success), var(--color-neon-cyan));
}

.metricBarFill.selected {
	background: linear-gradient(90deg, var(--color-hot-pink), var(--color-warning));
}

.metricValue {
	font-weight: var(--font-weight-medium);
	color: var(--text-primary);
}

.metricValue.highlighted {
	color: var(--color-neon-cyan);
}

.sortIndicator {
	margin-left: var(--space-1);
	font-size: var(--text-xs);
	color: var(--text-tertiary);
}

.percentileLabel {
	font-size: var(--text-xs);
	color: var(--text-tertiary);
	margin-left: var(--space-1);
}

.dateUnknown {
	color: var(--text-tertiary);
}

/* ==========================================================================
   COLUMN HEADER
   ========================================================================== */

.columnHeader {
	display: flex;
	align-items: center;
	gap: var(--space-1);
	padding: var(--space-1) 0;
	font-size: var(--text-xs);
	font-weight: var(--font-weight-semibold);
	color: var(--text-secondary);
	text-transform: uppercase;
	letter-spacing: var(--tracking-wide);
}

.columnHeaderButton {
	display: flex;
	align-items: center;
	gap: var(--space-1);
	padding: var(--space-1) var(--space-2);
	background: transparent;
	border: none;
	border-radius: var(--radius-sm);
	font-size: var(--text-xs);
	font-weight: var(--font-weight-semibold);
	color: var(--text-secondary);
	text-transform: uppercase;
	letter-spacing: var(--tracking-wide);
	cursor: pointer;
	transition: var(--transition-base);
}

.columnHeaderButton:hover {
	background: var(--glass-bg-light);
	color: var(--text-primary);
}

.columnHeaderButton:focus-visible {
	outline: 2px solid var(--focus-ring-color);
	outline-offset: 2px;
}

.columnHeaderButton:active {
	transform: scale(0.98);
}

.columnHeaderButton.sorted {
	color: var(--color-neon-cyan);
	background: color-mix(in srgb, var(--color-neon-cyan) 10%, transparent);
}

.columnHeaderLabel {
	display: flex;
	align-items: center;
	gap: var(--space-1);
}

.columnHeaderText {
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}

.columnHeaderSortIndicator {
	font-size: var(--text-2xs);
	color: var(--color-neon-cyan);
	transition: transform var(--duration-fast);
}

/* ==========================================================================
   VIEW TOGGLE
   ========================================================================== */

.viewToggle {
	background: var(--glass-bg);
	backdrop-filter: blur(var(--glass-blur));
	-webkit-backdrop-filter: blur(var(--glass-blur));
	border: 1px solid var(--glass-border);
	border-radius: var(--radius-lg);
	box-shadow: var(--glass-shadow);
	display: flex;
	gap: var(--space-2);
	margin-bottom: var(--space-4);
	padding: var(--space-1);
	background: linear-gradient(135deg, var(--overlay-cyan) 0%, var(--overlay-pink) 100%);
	border-color: color-mix(in srgb, var(--color-neon-cyan) 20%, transparent);
	border-radius: var(--radius-xl);
	width: 100%;
	max-width: 600px;
	margin-inline: auto;
	justify-content: center;
	box-shadow:
		var(--shadow-md),
		inset 0 1px 0 var(--glass-border);
}

.viewBtn,
.toggleButton {
	padding: var(--space-2) var(--space-4);
	background: transparent;
	border: none;
	border-radius: var(--radius-lg);
	font-size: var(--text-sm);
	font-weight: var(--font-weight-semibold);
	cursor: pointer;
	transition: var(--transition-base);
	color: var(--text-secondary);
	position: relative;
	letter-spacing: var(--tracking-normal);
}

.viewBtn:hover,
.toggleButton:hover {
	background: var(--glass-bg);
	color: var(--text-primary);
	transform: var(--transform-hover-lift);
}

.viewBtn:focus-visible,
.toggleButton:focus-visible {
	outline: none;
	box-shadow: var(--focus-ring);
}

.viewBtn.active,
.toggleButton.active {
	background: linear-gradient(135deg, var(--overlay-cyan-medium), var(--overlay-pink-medium));
	color: var(--text-primary);
	box-shadow:
		var(--shadow-md),
		inset 0 1px 0 var(--glass-border);
	border: var(--card-border-width) solid color-mix(in srgb, var(--color-neon-cyan) 30%, transparent);
}

.chartContainer {
	margin-bottom: var(--space-4);
	max-width: 1100px;
	margin-inline: auto;
	padding: var(--space-4);
	background: var(--glass-bg-light);
	border-radius: var(--radius-xl);
	border: 1px solid var(--glass-border);
}

.charts-bump-chart-title {
	font-size: var(--text-lg);
	font-weight: var(--font-weight-bold);
	margin-bottom: var(--space-3);
	text-align: center;
	color: var(--text-primary);
}

.charts-bump-chart-axis-label {
	font-size: 10px;
	font-weight: 600;
	fill: var(--text-secondary);
	font-family: var(--font-mono);
}

.charts-bump-chart-legend {
	display: flex;
	flex-wrap: wrap;
	gap: var(--space-3);
	justify-content: center;
	margin-top: var(--space-4);
	padding: var(--space-2);
}

.charts-bump-chart-legend-item {
	display: flex;
	align-items: center;
	gap: var(--space-2);
	font-size: var(--text-xs);
	color: var(--text-secondary);
	cursor: pointer;
	padding: var(--space-1) var(--space-2);
	border-radius: var(--radius-md);
	transition: var(--transition-base);
	background: var(--glass-bg);
	border: 1px solid var(--glass-border);
}

.charts-bump-chart-legend-item:hover {
	background: var(--glass-bg-light);
	border-color: var(--primary-color);
	color: var(--text-primary);
	transform: translateY(-1px);
}

.charts-bump-chart-legend-color {
	width: 10px;
	height: 10px;
	border-radius: 50%;
}

.charts-bump-chart-legend-label {
	font-weight: 600;
}

/* ==========================================================================
   SORTABLE HEADER
   ========================================================================== */

.sortable {
	cursor: pointer;
}

.sortableHeader {
	user-select: none;
}

/* ==========================================================================
   LIGHT THEME ADJUSTMENTS
   ========================================================================== */

[data-theme="light"] .columnHeader,
[data-theme="light"] .columnHeaderButton {
	color: var(--text-secondary);
}

[data-theme="light"] .columnHeaderButton:hover {
	background: var(--glass-bg);
	color: var(--text-primary);
}

[data-theme="light"] .columnHeaderButton.sorted {
	color: var(--primary-600);
	background: color-mix(in srgb, var(--primary-500) 10%, transparent);
}

[data-theme="light"] .columnHeaderSortIndicator {
	color: var(--primary-600);
}

/* ==========================================================================
   RESPONSIVE DESIGN
   ========================================================================== */

@media (prefers-reduced-motion: reduce) {

	.viewBtn,
	.toggleButton,
	.columnHeaderButton {
		transition: none;
	}

	.viewBtn:hover,
	.toggleButton:hover {
		transform: none;
	}
}

@media (max-width: 768px) {
	.analysisContainer {
		padding: var(--space-2);
	}

	.analysisGrid {
		grid-template-columns: 1fr;
		gap: var(--space-3);
	}

	.insightCards {
		grid-template-columns: 1fr;
	}

	.tableWrapper {
		overflow-x: auto;
	}

	.table {
		min-width: 600px;
	}

	.statsGrid,
	.statsSummary {
		grid-template-columns: repeat(2, 1fr);
	}

	.columnHeader,
	.columnHeaderButton {
		padding: var(--space-1);
		font-size: 0.65rem;
	}
}

@media (max-width: 600px) {
	.statsSummary {
		grid-template-columns: 1fr 1fr;
	}

	.statCard {
		padding: var(--space-2);
	}

	.table {
		font-size: var(--text-xs);
	}

	.table th,
	.table td {
		padding: var(--space-2);
	}

	.rankBadge {
		min-width: 24px;
		height: 24px;
		font-size: var(--text-xs);
	}
}

@media (max-width: 480px) {

	.statsGrid,
	.statsSummary {
		grid-template-columns: 1fr;
	}

	.panelHeader {
		flex-direction: column;
		align-items: flex-start;
		gap: var(--space-2);
	}

	.viewToggle {
		flex-direction: column;
		align-items: stretch;
	}

	.viewBtn,
	.toggleButton {
		text-align: center;
	}
}