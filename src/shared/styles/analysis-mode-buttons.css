/**
 * @file analysis-mode-buttons.css
 * @description Analysis Mode Button and Filter Styles
 *
 * Styles for buttons, filters, inputs, and interactive form elements.
 */

/* ==========================================================================
   ANALYSIS STATS - Dashboard Metrics
   ========================================================================== */
.analysis-stats {
	display: grid;
	grid-template-columns: repeat(3, 1fr);
	gap: var(--analysis-gap-sm);
}

.analysis-stat {
	display: flex;
	flex-direction: column;
	gap: var(--analysis-gap-xs);
	padding: var(--analysis-gap-md);
	background: var(--analysis-surface-elevated);
	border: var(--card-border-width) solid var(--analysis-border);
	border-radius: var(--analysis-radius-lg);
	transition:
		transform var(--analysis-duration-fast) var(--analysis-ease),
		border-color var(--analysis-duration-fast) var(--analysis-ease);
}

.analysis-stat:hover {
	transform: translateY(calc(var(--card-border-width) * -2));
	border-color: var(--analysis-border-accent);
}

.analysis-stat-value {
	font-family: var(--analysis-text-mono);
	font-size: var(--analysis-text-headline);
	font-weight: var(--font-weight-bold);
	color: var(--text-primary);
	line-height: 1;
	letter-spacing: var(--tracking-tight);
}

.analysis-stat-label {
	font-size: var(--analysis-text-caption);
	font-weight: var(--font-weight-medium);
	color: var(--text-secondary);
	text-transform: uppercase;
	letter-spacing: var(--tracking-wider);
}

/* * Accent variant for primary metric */
.analysis-stat--accent .analysis-stat-value {
	color: var(--analysis-accent);
}

/* ==========================================================================
   ANALYSIS CHARTS - Visualizations
   ========================================================================== */
.analysis-charts-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
	gap: var(--analysis-gap-md);
	margin-top: var(--analysis-gap-md);
}

.analysis-chart {
	display: flex;
	flex-direction: column;
	gap: var(--analysis-gap-md);
	padding: var(--analysis-gap-md);
	background: var(--analysis-surface-elevated);
	border: var(--card-border-width) solid var(--analysis-border);
	border-radius: var(--analysis-radius-lg);
}

.analysis-chart-title {
	font-size: var(--analysis-text-caption);
	font-weight: var(--font-weight-bold);
	color: var(--text-secondary);
	text-transform: uppercase;
	letter-spacing: var(--tracking-wide);
	margin: 0;
}

.analysis-chart-bars {
	display: flex;
	flex-direction: column;
	gap: var(--analysis-gap-sm);
}

.analysis-chart-row {
	display: grid;
	grid-template-columns: 100px 1fr var(--space-10); /* Layout-specific value */
	align-items: center;
	gap: var(--analysis-gap-sm);
}

.analysis-chart-label {
	font-size: var(--analysis-text-caption);
	color: var(--text-secondary);
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
	text-align: right;
}

.analysis-chart-bar-container {
	height: var(--space-2);
	background: var(--analysis-surface-2);
	border-radius: var(--analysis-radius-full);
	overflow: hidden;
}

.analysis-chart-bar {
	height: 100%;
	background: var(--analysis-accent);
	border-radius: var(--analysis-radius-full);
	transition: width var(--analysis-duration-normal) var(--analysis-ease);
}

.analysis-chart-value {
	font-family: var(--analysis-text-mono);
	font-size: var(--analysis-text-caption);
	color: var(--text-primary);
	text-align: right;
}

/* ==========================================================================
   ANALYSIS TOOLBAR - Unified Controls (Improved UX)
   ========================================================================== */
.analysis-toolbar {
	display: flex;
	flex-wrap: wrap;
	align-items: center;
	gap: var(--analysis-gap-md);
	padding: var(--analysis-gap-md) var(--analysis-gap-lg);
	background: var(--analysis-surface-elevated);
	border: var(--card-border-width) solid var(--analysis-border);
	border-radius: var(--analysis-radius-lg);
	box-shadow: 0 2px 8px var(--overlay-light);
	transition: box-shadow var(--analysis-duration-fast) var(--analysis-ease);
}

.analysis-toolbar:hover {
	box-shadow: 0 4px 12px var(--overlay-light);
}

.analysis-toolbar-content {
	display: flex;
	align-items: center;
	gap: var(--analysis-gap-sm);
	flex: 1;
	min-width: 0;
}

.analysis-toolbar-group {
	display: flex;
	align-items: center;
	gap: var(--analysis-gap-xs);
}

.analysis-toolbar-actions {
	display: flex;
	align-items: center;
	gap: var(--analysis-gap-sm);
	flex-shrink: 0;
	margin-left: auto;
}

.analysis-toolbar-divider {
	width: var(--card-border-width);
	height: 28px; /* 7 * 4px base unit */
	background: var(--analysis-border);
	margin: 0 var(--analysis-gap-sm);
	opacity: 0.5;
}

/* * Toolbar selection badge - improved visual prominence */
.analysis-selection-badge {
	display: inline-flex;
	align-items: center;
	gap: var(--analysis-gap-xs);
	padding: var(--analysis-gap-xs) var(--analysis-gap-md);
	background: var(--analysis-accent-subtle);
	border: var(--card-border-width) solid var(--analysis-border-accent);
	border-radius: var(--analysis-radius-md);
	font-size: var(--analysis-text-body);
	white-space: nowrap;
	flex-shrink: 0;
}

.analysis-selection {
	display: flex;
	align-items: baseline;
	gap: var(--analysis-gap-xs);
	padding: 0 var(--analysis-gap-sm);
	font-size: var(--analysis-text-body);
}

.analysis-selection-count {
	font-family: var(--analysis-text-mono);
	font-size: var(--analysis-text-title);
	font-weight: var(--font-weight-bold);
	color: var(--analysis-accent);
	line-height: 1;
}

.analysis-selection-label {
	color: var(--text-secondary);
	font-size: var(--analysis-text-caption);
	text-transform: lowercase;
	font-weight: var(--font-weight-medium);
}

/* ==========================================================================
   ANALYSIS BUTTONS - Intentional Actions (Enhanced UX)
   ========================================================================== */
.analysis-btn {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: var(--analysis-gap-xs);
	padding: var(--analysis-gap-sm) var(--analysis-gap-md);
	font-size: var(--analysis-text-body);
	font-weight: var(--font-weight-semibold);
	color: var(--text-primary);
	background: transparent;
	border: var(--card-border-width) solid var(--analysis-border);
	border-radius: var(--analysis-radius-md);
	cursor: pointer;
	transition:
		background var(--analysis-duration-fast) var(--analysis-ease),
		border-color var(--analysis-duration-fast) var(--analysis-ease),
		transform var(--analysis-duration-fast) var(--analysis-ease),
		box-shadow var(--analysis-duration-fast) var(--analysis-ease);
	white-space: nowrap;
	min-height: var(--input-height-md);
}

.analysis-btn:hover:not(:disabled) {
	background: var(--analysis-accent-subtle);
	border-color: var(--analysis-border-accent);
	transform: translateY(-1px);
	box-shadow: 0 2px 8px var(--overlay-light);
}

.analysis-btn:active:not(:disabled) {
	transform: translateY(0) scale(0.98);
	box-shadow: 0 1px 4px var(--overlay-light);
}

.analysis-btn:disabled {
	opacity: 0.4;
	cursor: not-allowed;
	transform: none;
}

.analysis-btn-count {
	font-size: var(--analysis-text-caption);
	opacity: 0.7;
	margin-left: var(--space-px);
}

/* * Primary action button */
.analysis-btn--primary {
	color: var(--background-color);
	background: var(--analysis-accent);
	border-color: var(--analysis-accent);
}

.analysis-btn--primary:hover:not(:disabled) {
	background: color-mix(in srgb, var(--analysis-accent) 85%, transparent);
	border-color: color-mix(in srgb, var(--analysis-accent) 85%, transparent);
	box-shadow: var(--analysis-accent-glow);
}

/* * Danger action button */
.analysis-btn--danger {
	color: var(--color-error);
	border-color: color-mix(in srgb, var(--color-error) 30%, transparent);
}

.analysis-btn--danger:hover:not(:disabled) {
	background: color-mix(in srgb, var(--color-error) 12%, transparent);
	border-color: color-mix(in srgb, var(--color-error) 50%, transparent);
}

/* * Ghost button (minimal) */
.analysis-btn--ghost {
	border-color: transparent;
}

.analysis-btn--ghost:hover:not(:disabled) {
	background: var(--analysis-surface-elevated);
	border-color: transparent;
}

/* ==========================================================================
   ANALYSIS FILTERS - Compact Controls
   ========================================================================== */
.analysis-filters {
	display: flex;
	flex-wrap: wrap;
	align-items: stretch;
	gap: var(--analysis-gap-sm);
}

.analysis-filter {
	display: flex;
	flex-direction: column;
	gap: var(--analysis-gap-xs);
	min-width: 120px; /* 30 * 4px base unit */
	flex: 1;
}

.analysis-filter-label {
	font-size: var(--analysis-text-caption);
	font-weight: var(--font-weight-semibold);
	color: var(--text-secondary);
	text-transform: uppercase;
	letter-spacing: var(--tracking-wide);
}

.analysis-input,
.analysis-select {
	padding: var(--analysis-gap-xs) var(--analysis-gap-sm);
	font-size: var(--analysis-text-body);
	color: var(--text-primary);
	background: var(--analysis-surface-1);
	border: var(--card-border-width) solid var(--analysis-border);
	border-radius: var(--analysis-radius-md);
	transition:
		border-color var(--analysis-duration-fast) var(--analysis-ease),
		box-shadow var(--analysis-duration-fast) var(--analysis-ease);
}

.analysis-input:focus,
.analysis-select:focus {
	outline: none;
	border-color: var(--analysis-accent);
	box-shadow: 0 0 0 2px var(--analysis-accent-muted);
}

.analysis-input::placeholder {
	color: var(--text-tertiary);
}

/* * Search input with icon */
.analysis-search {
	position: relative;
	flex: 2;
	min-width: 200px; /* 50 * 4px base unit */
}

.analysis-search-input {
	width: 100%;
	padding-left: calc(var(--analysis-gap-sm) + 20px);
}

.analysis-search-icon {
	position: absolute;
	left: var(--analysis-gap-sm);
	top: 50%;
	transform: translateY(-50%);
	color: var(--text-tertiary);
	pointer-events: none;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* ==========================================================================
   ANALYSIS HIGHLIGHTS - Top Items Display
   ========================================================================== */
.analysis-highlights {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
	gap: var(--analysis-gap-sm);
}

.analysis-highlight {
	display: flex;
	flex-direction: column;
	gap: var(--analysis-gap-sm);
	padding: var(--analysis-gap-md);
	background: var(--analysis-surface-elevated);
	border: var(--card-border-width) solid var(--analysis-border);
	border-left: var(--space-1) solid var(--analysis-accent);
	border-radius: var(--analysis-radius-md);
}

.analysis-highlight-title {
	font-size: var(--analysis-text-caption);
	font-weight: var(--font-weight-bold);
	color: var(--text-secondary);
	text-transform: uppercase;
	letter-spacing: var(--tracking-wide);
}

.analysis-highlight-list {
	display: flex;
	flex-direction: column;
	gap: var(--analysis-gap-xs);
	margin: 0;
	padding: 0;
	list-style: none;
}

.analysis-highlight-item {
	display: flex;
	justify-content: space-between;
	align-items: center;
	font-size: var(--analysis-text-body);
}

.analysis-highlight-name {
	color: var(--text-primary);
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.analysis-highlight-value {
	font-family: var(--analysis-text-mono);
	font-weight: var(--font-weight-semibold);
	color: var(--text-secondary);
}

/* ==========================================================================
