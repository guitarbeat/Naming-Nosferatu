/* Responsive Mobile Styles - Consolidated mobile and touch optimizations */

/* ==========================================================================
   MOBILE VARIABLES
   ========================================================================== */
:root {
	/* Touch target sizes */
	--mobile-touch-target-min: 48px;
	--mobile-touch-target-large: clamp(3.5rem, 10vw, 3.75rem);
	--mobile-content-padding: clamp(4rem, 14vw, 5rem);
	--mobile-safe-spacing: clamp(1rem, 6vw, 1.5rem);
	--mobile-safe-spacing-small: clamp(0.75rem, 5vw, 1.25rem);

	/* Mobile spacing and sizing */
	--mobile-padding: 1rem;
	--mobile-margin: 0.75rem;
	--mobile-border-radius: 0.5rem;
	--mobile-card-padding: 1rem;
	--mobile-button-height: 44px;
	--mobile-input-height: 48px;
	--mobile-touch-target: 44px;
	--mobile-text-scale: 1.1;
	--mobile-spacing-scale: 1.2;
}

/* ==========================================================================
   MOBILE GLOBAL STYLES (width <= 768px)
   ========================================================================== */
@media (width <= 768px) {
	/* Mobile navigation improvements */
	.nav-menu button {
		min-width: var(--mobile-touch-target-min);
		min-height: var(--mobile-touch-target-min);
		padding: var(--space-3) var(--space-4);
		font-size: var(--text-base);
		font-weight: 600;
		border: 1px solid transparent;
		border-radius: var(--radius-md);
	}

	.nav-menu button:hover {
		background: var(--primary-100);
		border-color: var(--primary-300);
	}

	.nav-menu button.active {
		color: white;
		background: var(--primary-500);
		border-color: var(--primary-600);
	}

	/* Mobile header improvements */
	header {
		background: var(--header-background);
		border-bottom: 2px solid var(--header-border);
	}

	.header-image {
		border: 3px solid var(--primary-color);
		box-shadow: 0 4px 12px var(--shadow-color-medium);
	}

	/* Mobile text improvements */
	h1,
	h2,
	h3 {
		color: var(--mobile-text-primary, var(--text-primary));
		text-shadow: 0 1px 2px var(--shadow-color-light);
	}

	p,
	span,
	li {
		color: var(--mobile-text-secondary, var(--text-secondary));
	}

	/* Mobile form improvements */
	.input {
		min-height: var(--mobile-input-height);
		padding: var(--space-3) var(--space-4);
		font-size: var(--text-base);
		color: var(--text-primary);
		background: var(--surface-color);
		border: 2px solid var(--border-color);
		border-radius: var(--mobile-border-radius);
	}

	.input:focus {
		border-color: var(--primary-color);
		box-shadow: 0 0 0 3px var(--primary-light);
	}

	/* Ensure floating elements don't overlap content */
	.main-content {
		padding-bottom: var(--mobile-content-padding);
	}

	/* Ensure scroll-to-top button doesn't overlap content */
	.scroll-to-top {
		right: var(--mobile-safe-spacing);
		bottom: var(--mobile-safe-spacing);
	}

	/* Ensure all interactive elements meet touch target requirements */
	button,
	input[type="button"],
	input[type="submit"],
	input[type="reset"],
	input[type="checkbox"],
	input[type="radio"],
	.btn,
	a[role="button"],
	.nav-menu button,
	[role="button"],
	.clickable,
	.name-card,
	.card[role="button"],
	.actionButton,
	.photoThumbButton {
		min-width: var(--mobile-touch-target-min);
		min-height: var(--mobile-touch-target-min);
		touch-action: manipulation;
		cursor: pointer;
		-webkit-tap-highlight-color: var(--overlay-light);
	}

	/* Form inputs should have minimum height for touch */
	input[type="text"],
	input[type="email"],
	input[type="password"],
	input[type="search"],
	input[type="tel"],
	input[type="url"],
	input[type="number"],
	textarea,
	select {
		min-height: var(--mobile-input-height);
	}

	/* Ensure proper spacing between interactive elements */
	button + button,
	.btn + .btn,
	input + input {
		margin-left: var(--space-3);
	}

	/* Improve form layout on mobile */
	.form-group {
		margin-bottom: var(--mobile-margin);
	}

	.form-group label {
		display: block;
		margin-bottom: var(--space-2);
		font-size: var(--text-base);
	}

	/* Ensure proper spacing for mobile cards */
	.card,
	.name-card,
	.tournament-card {
		padding: var(--mobile-card-padding);
		margin-bottom: var(--mobile-margin);
		border-radius: var(--mobile-border-radius);
	}

	/* Improve mobile list spacing */
	ul,
	ol {
		padding-left: var(--space-4);
	}

	li {
		margin-bottom: var(--space-2);
	}
}

/* ==========================================================================
   SMALL MOBILE DEVICES (width <= 430px)
   ========================================================================== */
@media (width <= 430px) {
	/* Enhanced small mobile colors */
	.name-card {
		padding: var(--space-3);
		background: var(--mobile-card-background, var(--card-background));
		border-radius: var(--radius-lg);
	}

	/* Small mobile text adjustments */
	h1 {
		font-size: var(--text-2xl);
	}

	h2 {
		font-size: var(--text-xl);
	}

	h3 {
		font-size: var(--text-lg);
	}

	/* Small mobile spacing */
	.container {
		padding: 0 var(--space-3);
	}

	.main-content {
		padding: var(--space-3);
	}

	.scroll-to-top {
		right: var(--mobile-safe-spacing-small);
		bottom: var(--mobile-safe-spacing-small);
	}
}

/* ==========================================================================
   REDUCED MOTION - Mobile specific
   ========================================================================== */
@media (prefers-reduced-motion: reduce) {
	@media (width <= 768px) {
		.name-card,
		.nav-menu button {
			transition: none;
		}

		.name-card:hover,
		.nav-menu button:hover {
			transform: none;
		}

		.header-image {
			animation: none;
		}
	}
}

/* ==========================================================================
   HIGH CONTRAST MODE - Mobile specific
   ========================================================================== */
@media (prefers-contrast: more) {
	@media (width <= 768px) {
		.name-card {
			border-color: var(--text-primary);
			border-width: 3px;
		}

		.nav-menu button {
			border: 2px solid var(--border-color);
		}

		.input {
			border-width: 3px;
		}

		/* Enhanced focus indicators */
		.nav-menu button:focus,
		.input:focus {
			outline: 3px solid var(--primary-color);
			outline-offset: 2px;
		}
	}
}

/* ==========================================================================
   SAFE AREA INSETS - Modern mobile devices
   ========================================================================== */
@supports (padding: max(0px)) {
	@media (width <= 768px) {
		.main-content {
			padding-right: max(var(--space-4), env(safe-area-inset-right));
			padding-bottom: max(var(--space-4), env(safe-area-inset-bottom));
			padding-left: max(var(--space-4), env(safe-area-inset-left));
		}

		header {
			padding-right: max(var(--space-4), env(safe-area-inset-right));
			padding-left: max(var(--space-4), env(safe-area-inset-left));
		}

		.container {
			padding-right: max(var(--space-4), env(safe-area-inset-right));
			padding-left: max(var(--space-4), env(safe-area-inset-left));
		}

		.scroll-to-top {
			right: max(
				var(--mobile-safe-spacing),
				env(safe-area-inset-right) +
				var(--mobile-safe-spacing)
			);
			bottom: max(
				var(--mobile-safe-spacing),
				env(safe-area-inset-bottom) +
				var(--mobile-safe-spacing)
			);
		}
	}

	@media (width <= 430px) {
		.main-content {
			padding-right: max(var(--space-3), env(safe-area-inset-right));
			padding-bottom: max(var(--space-3), env(safe-area-inset-bottom));
			padding-left: max(var(--space-3), env(safe-area-inset-left));
		}

		header {
			padding-right: max(var(--space-3), env(safe-area-inset-right));
			padding-left: max(var(--space-3), env(safe-area-inset-left));
		}

		.container {
			padding-right: max(var(--space-3), env(safe-area-inset-right));
			padding-left: max(var(--space-3), env(safe-area-inset-left));
		}

		/* Adjust floating elements for small screens */
		.scroll-to-top {
			right: max(
				var(--mobile-safe-spacing-small),
				env(safe-area-inset-right) +
				var(--mobile-safe-spacing-small)
			);
			bottom: max(
				var(--mobile-safe-spacing-small),
				env(safe-area-inset-bottom) +
				var(--mobile-safe-spacing-small)
			);
		}
	}
}

/* ==========================================================================
   LANDSCAPE MOBILE OPTIMIZATIONS
   ========================================================================== */
@media screen and (width <= 768px) and (orientation: landscape) {
	.main-content {
		margin-top: 70px; /* Reduced margin for landscape */
	}

	.scroll-to-top {
		right: var(--mobile-safe-spacing-small);
		bottom: var(--mobile-safe-spacing-small);
	}
}
