/* ==========================================================================
   LAYOUT UTILITIES
   Comprehensive layout utilities for common patterns
   ========================================================================== */

/* ==========================================================================
   LAYOUT PRIMITIVES
   Custom patterns that extend Tailwind (not duplicates)
   ========================================================================== */

/* Z-Index utilities using design tokens */

.z-10 {
	z-index: var(--z-10);
}

.z-20 {
	z-index: var(--z-20);
}

.z-toast {
	z-index: var(--z-toast);
}

/**
 * Stack Component
 * @description Vertical layout with consistent spacing between children.
 */
.stack {
	display: flex;
	flex-direction: column;
	width: 100%;
	align-items: stretch;
}

/* Stack alignment variants */

/**
 * Cluster Component
 * @description Horizontal layout that wraps. Great for tags, buttons, or nav items.
 */

/* Cluster alignment variants */

/**
 * HeroStage Component
 * @description A high-impact container for scenes or central focuses.
 */

/**
 * Container Components
 * @description Responsive containers with consistent max-widths
 */
.container {
	width: 100%;
	max-width: clamp(70rem, 95vw, 150rem);
	padding: 0 var(--space-4);
	margin: 0 auto;
}

/**
 * Full Screen Utilities
 * @description Common full-screen layout patterns
 */
.fullScreenCenter {
	display: flex;
	align-items: center;
	justify-content: center;
	height: 100vh;
}

/* ==========================================================================
   SEMANTIC UTILITIES
   Custom utilities that use design tokens
   ========================================================================== */

.bg-primary {
	background-color: var(--primary-color);
}

/* ==========================================================================
   APP LAYOUT
   Main application layout styles
   ========================================================================== */

/* Ensure navbar is always visible, including on login page */
.app--login .navbar {
	display: flex;
}

/* Cat background positioning */
.app .cat-background {
	position: fixed;
	inset: 0;
	z-index: var(--z-0);
}

/* Content above background */
.app-header {
	position: relative;
	z-index: var(--z-1);
}

/* Global loading overlay */
.global-loading-overlay {
	position: fixed;
	inset: 0;
	z-index: var(--z-modal);
	display: flex;
	align-items: center;
	justify-content: center;
	background: var(--overlay-dark);
	backdrop-filter: blur(8px);
}
/**
 * @file responsive.css
 * @description Consolidated responsive styles: breakpoints, mobile optimizations, and responsive utilities
 */

/* ==========================================================================
   RESPONSIVE BREAKPOINTS & VARIABLES
   ========================================================================== */

:root {
	/* Standard Breakpoints */
	--breakpoint-sm: 640px;
	--breakpoint-md: 768px;
	--breakpoint-lg: 1024px;
	--breakpoint-xl: 1280px;
	--breakpoint-2xl: 1536px;

	/* Touch target sizes */
	--mobile-touch-target-min: 48px;
	--mobile-touch-target-large: clamp(3.5rem, 10vw, 3.75rem);
	--mobile-content-padding: clamp(4rem, 14vw, 5rem);
	--mobile-safe-spacing: clamp(1rem, 6vw, 1.5rem);
	--mobile-safe-spacing-small: clamp(0.75rem, 5vw, 1.25rem);

	/* Mobile spacing and sizing */
	--mobile-padding: 1rem;
	--mobile-margin: 0.75rem;
	--mobile-border-radius: 0.5rem;
	--mobile-card-padding: 1rem;
	--mobile-button-height: 44px;
	--mobile-input-height: 48px;
	--mobile-touch-target: 44px;
	--mobile-text-scale: 1.1;
	--mobile-spacing-scale: 1.2;
}

/* ==========================================================================
   MOBILE FIRST RESPONSIVE UTILITIES
   ========================================================================== */

/* Responsive utilities removed - use Tailwind's built-in responsive classes */

/* ==========================================================================
   COMMON RESPONSIVE PATTERNS
   ========================================================================== */

@media (max-width: calc(768px - 1px)) {
	.mobile-only {
		display: block;
	}
	.desktop-only {
		display: none;
	}

	.mobile-stack > * + * {
		margin-top: var(--space-4);
	}

	.mobile-full-width {
		width: 100%;
		margin-left: 0;
		margin-right: 0;
	}
}

@media (min-width: 768px) {
	.mobile-only {
		display: none;
	}
	.desktop-only {
		display: block;
	}

	.desktop-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
		gap: var(--space-6);
	}
}

/* ==========================================================================
   MOBILE GLOBAL STYLES (width <= 768px)
   ========================================================================== */

@media (width <= 768px) {
	/* Mobile navigation improvements */
	.nav-menu button {
		min-width: var(--mobile-touch-target-min);
		min-height: var(--mobile-touch-target-min);
		padding: var(--space-3) var(--space-4);
		font-size: var(--text-base);
		font-weight: 600;
		border: 1px solid transparent;
		border-radius: var(--radius-md);
	}

	.nav-menu button:hover {
		background: var(--primary-100);
		border-color: var(--primary-300);
	}

	/* Mobile header improvements */
	header {
		background: var(--header-background);
		border-bottom: 2px solid var(--header-border);
	}

	/* Mobile text improvements */
	h1,
	h2,
	h3 {
		color: var(--mobile-text-primary, var(--text-primary));
		text-shadow: 0 1px 2px var(--shadow-color-light);
	}

	p,
	span,
	label {
		color: var(--mobile-text-primary, var(--text-primary));
	}

	/* Mobile form improvements */
	.input {
		min-height: var(--mobile-input-height);
		padding: var(--space-3) var(--space-4);
		font-size: var(--text-base);
		color: var(--text-primary);
		background: var(--surface-color);
		border: 2px solid var(--border-color);
		border-radius: var(--mobile-border-radius);
	}

	.input:focus {
		border-color: var(--primary-color);
		box-shadow: 0 0 0 3px var(--primary-light);
	}

	/* Scroll-to-top button positioning */
	.scroll-to-top {
		right: var(--mobile-safe-spacing);
		bottom: var(--mobile-safe-spacing);
	}

	/* Ensure all interactive elements meet touch target requirements */
	button,
	input[type="button"],
	input[type="submit"],
	input[type="reset"],
	input[type="checkbox"],
	input[type="radio"],
	.btn,
	a[role="button"],
	.nav-menu button,
	[role="button"],
	.clickable,
	.name-card,
	.card[role="button"],
	.actionButton {
		min-height: var(--mobile-touch-target-min);
		min-width: var(--mobile-touch-target-min);
	}

	/* Form inputs should have minimum height for touch */
	input[type="text"],
	input[type="email"],
	input[type="password"],
	input[type="search"],
	input[type="tel"],
	input[type="url"],
	input[type="number"],
	textarea,
	select {
		min-height: var(--mobile-input-height);
	}

	/* Ensure proper spacing between interactive elements */
	button + button,
	.btn + .btn,
	input + input {
		margin-left: var(--space-3);
	}

	/* Improve form layout on mobile */
	.form-group label {
		display: block;
		margin-bottom: var(--space-2);
		font-size: var(--text-base);
	}

	/* Ensure proper spacing for mobile cards */
	.card,
	.name-card {
		margin-bottom: var(--space-3);
	}

	/* Improve mobile list spacing */
	ul,
	ol {
		padding-left: var(--space-4);
	}
}

/* ==========================================================================
   SMALL MOBILE DEVICES (width <= 430px)
   ========================================================================== */

@media (width <= 430px) {
	/* Small mobile text adjustments */
	h1 {
		font-size: var(--text-2xl);
	}

	h2 {
		font-size: var(--text-xl);
	}

	h3 {
		font-size: var(--text-lg);
	}

	/* Small mobile spacing */
	.container {
		padding: 0 var(--space-3);
	}

	.scroll-to-top {
		right: var(--mobile-safe-spacing-small);
		bottom: var(--mobile-safe-spacing-small);
	}
}

/* ==========================================================================
   SAFE AREA INSETS - Modern mobile devices
   ========================================================================== */

@supports (padding: max(0px)) {
	@media (width <= 768px) {
		header {
			padding-right: max(var(--space-4), env(safe-area-inset-right));
			padding-left: max(var(--space-4), env(safe-area-inset-left));
		}

		.container {
			padding-right: max(var(--space-4), env(safe-area-inset-right));
			padding-left: max(var(--space-4), env(safe-area-inset-left));
		}

		.scroll-to-top {
			right: max(
				var(--mobile-safe-spacing),
				env(safe-area-inset-right) +
				var(--mobile-safe-spacing)
			);
			bottom: max(5.5rem, calc(90px + env(safe-area-inset-bottom) + var(--mobile-safe-spacing)));
		}
	}
}

/* ==========================================================================
   LANDSCAPE MOBILE OPTIMIZATIONS
   ========================================================================== */

@media screen and (width <= 768px) and (orientation: landscape) {
	.scroll-to-top {
		right: var(--mobile-safe-spacing-small);
		bottom: max(5rem, calc(80px + env(safe-area-inset-bottom) + var(--mobile-safe-spacing-small)));
	}
}

/* ==========================================================================
   ACCESSIBILITY & PREFERENCE MEDIA QUERIES
   ========================================================================== */

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms;
		animation-iteration-count: 1;
		transition-duration: 0.01ms;
	}

	@media (width <= 768px) {
		.name-card,
		.nav-menu button {
			transition: none;
		}

		.name-card:hover,
		.nav-menu button:hover {
			transform: none;
		}
	}
}

/* High Contrast */
@media (prefers-contrast: high) {
	:root {
		--color-border: #000000;
		--color-text: #000000;
		--color-background: #ffffff;
	}
}

@media (prefers-contrast: more) {
	@media (width <= 768px) {
		button,
		.btn {
			border-width: 2px;
		}
	}
}

/* Print Styles */
@media print {
	.no-print {
		display: none;
	}
	.print-only {
		display: block;
	}

	* {
		color: black;
		background: white;
	}
}
